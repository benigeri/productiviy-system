{"id":"productiviy-system-05h","title":"nylas-webhook: deploy \u0026 register with Nylas","description":"Deploy and register webhook:\n1. Deploy edge function to Supabase\n2. Register webhook with Nylas: POST /webhooks/\n   - trigger_types: [message.updated, message.created]\n   - webhook_url: Supabase function URL\n3. Test with real Gmail label changes\n4. Add NYLAS_WEBHOOK_SECRET to Supabase secrets","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:27:59.938964-05:00","created_by":"benigeri","updated_at":"2026-01-07T14:02:18.603188-05:00","dependencies":[{"issue_id":"productiviy-system-05h","depends_on_id":"productiviy-system-alf","type":"blocks","created_at":"2026-01-07T11:28:29.866354-05:00","created_by":"benigeri"}]}
{"id":"productiviy-system-0sq","title":"Create core capture pipeline (_shared/lib/capture.ts)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T08:21:15.497705-05:00","created_by":"benigeri","updated_at":"2026-01-06T08:39:05.548873-05:00","closed_at":"2026-01-06T08:39:05.548873-05:00","close_reason":"Implemented captureToLinear() with tests - 6 passing tests"}
{"id":"productiviy-system-16s","title":"Initialize Supabase in repo","description":"Run supabase init and supabase functions new telegram-webhook to scaffold the project","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T11:00:21.716008-05:00","created_by":"benigeri","updated_at":"2026-01-05T13:01:13.214477-05:00","closed_at":"2026-01-05T13:01:13.214477-05:00","close_reason":"Supabase initialized, PR #6 created"}
{"id":"productiviy-system-1e8","title":"Refactor create-issue to use DI + captureToLinear()","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T08:21:19.073001-05:00","created_by":"benigeri","updated_at":"2026-01-06T09:18:38.504239-05:00","closed_at":"2026-01-06T09:18:38.504239-05:00","close_reason":"Closed","dependencies":[{"issue_id":"productiviy-system-1e8","depends_on_id":"productiviy-system-0sq","type":"blocks","created_at":"2026-01-06T08:21:26.746437-05:00","created_by":"benigeri"}]}
{"id":"productiviy-system-1ex","title":"/handle-to-respond-paul-emails skill","description":"Create /handle-to-respond-paul-emails skill:\n1. Fetch emails with to-respond-paul label\n2. Show count, display first email (full context)\n3. Get user dictation → generate draft with Claude\n4. Create draft via Nylas (with reply_to_message_id)\n5. Update labels: remove to-respond-paul, add drafted\n6. Commands: next (show next), skip (keep label, next), done (exit)\n7. Placeholder email-writing-guidelines.md for later","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-07T11:28:01.168082-05:00","created_by":"benigeri","updated_at":"2026-01-07T14:02:20.160653-05:00","dependencies":[{"issue_id":"productiviy-system-1ex","depends_on_id":"productiviy-system-05h","type":"blocks","created_at":"2026-01-07T11:28:32.531115-05:00","created_by":"benigeri"}]}
{"id":"productiviy-system-1tx","title":"Create message_mappings table in Supabase","description":"Milestone 2: Create Supabase table for telegram_msg_id → linear_issue_id mapping","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-05T11:00:51.817968-05:00","created_by":"benigeri","updated_at":"2026-01-05T11:00:51.817968-05:00"}
{"id":"productiviy-system-2e5","title":"Test skill end-to-end workflow","description":"Run through complete skill workflow to verify functionality.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T08:41:46.568479-05:00","updated_at":"2026-01-06T18:44:06.372926-05:00","closed_at":"2026-01-06T18:44:06.372926-05:00","close_reason":"E2E test passed: created/deleted test Sleep event via API","dependencies":[{"issue_id":"productiviy-system-2e5","depends_on_id":"productiviy-system-5r9","type":"parent-child","created_at":"2026-01-06T08:42:03.060497-05:00","created_by":"benigeri"},{"issue_id":"productiviy-system-2e5","depends_on_id":"productiviy-system-v31","type":"blocks","created_at":"2026-01-06T08:42:08.477153-05:00","created_by":"benigeri"},{"issue_id":"productiviy-system-2e5","depends_on_id":"productiviy-system-zgh","type":"blocks","created_at":"2026-01-06T08:42:08.513795-05:00","created_by":"benigeri"}]}
{"id":"productiviy-system-4dd","title":"Write tests for linear.ts, then implement","description":"TDD: Write tests for createTriageIssue function using BEN team, then implement","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T11:00:29.745861-05:00","created_by":"benigeri","updated_at":"2026-01-05T13:24:30.538122-05:00","closed_at":"2026-01-05T13:24:30.538122-05:00","close_reason":"All tests pass for linear.ts"}
{"id":"productiviy-system-5ls","title":"Update Edge Function to handle replies → Linear comments","description":"Milestone 2: Implement reply handling - lookup parent message, add comment to existing Linear issue","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-05T11:00:52.224074-05:00","created_by":"benigeri","updated_at":"2026-01-05T11:00:52.224074-05:00"}
{"id":"productiviy-system-5r9","title":"[epic] Build weekly-cadence Claude Code skill","description":"Create a Claude Code skill to manage sleep blocks and workout events via Nylas Calendar API.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T08:41:46.565375-05:00","updated_at":"2026-01-06T18:44:06.580177-05:00","closed_at":"2026-01-06T18:44:06.580177-05:00","close_reason":"Epic complete: skill at ~/.claude/skills/weekly-cadence/ with SKILL.md and API reference"}
{"id":"productiviy-system-7cf","title":"Write tests for reply handling","description":"Milestone 2: TDD for reply detection, message lookup, and comment creation","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-05T11:00:52.024983-05:00","created_by":"benigeri","updated_at":"2026-01-05T11:00:52.024983-05:00"}
{"id":"productiviy-system-7d5","title":"nylas-webhook: API client + tests","description":"TDD: Create Nylas API client in lib/nylas.ts:\n- getMessage(id): GET /grants/{id}/messages/{msg_id}\n- getThread(id): GET /grants/{id}/threads/{thread_id}\n- updateMessageFolders(id, folders): PUT /grants/{id}/messages/{msg_id}\n- getFolders(): GET /grants/{id}/folders (for label ID mapping)\n- verifyNylasSignature(signature, body, secret): HMAC-SHA256\n- Lazy load: fetch message only when needed","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-07T11:27:55.728636-05:00","created_by":"benigeri","updated_at":"2026-01-07T14:48:24.763861-05:00","dependencies":[{"issue_id":"productiviy-system-7d5","depends_on_id":"productiviy-system-peq","type":"blocks","created_at":"2026-01-07T11:28:25.347551-05:00","created_by":"benigeri"}]}
{"id":"productiviy-system-8lq","title":"Create slack-webhook edge function","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T08:21:20.100689-05:00","created_by":"benigeri","updated_at":"2026-01-06T09:34:35.3323-05:00","closed_at":"2026-01-06T09:34:35.3323-05:00","close_reason":"Closed","dependencies":[{"issue_id":"productiviy-system-8lq","depends_on_id":"productiviy-system-p9v","type":"blocks","created_at":"2026-01-06T08:21:26.819744-05:00","created_by":"benigeri"},{"issue_id":"productiviy-system-8lq","depends_on_id":"productiviy-system-1e8","type":"blocks","created_at":"2026-01-06T08:21:26.897276-05:00","created_by":"benigeri"}]}
{"id":"productiviy-system-960","title":"Write tests for claude.ts, then implement","description":"TDD: Write tests for cleanupContent function including edge cases, then implement","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T11:00:29.554419-05:00","created_by":"benigeri","updated_at":"2026-01-05T13:23:29.367995-05:00","closed_at":"2026-01-05T13:23:29.367995-05:00","close_reason":"All tests pass for claude.ts"}
{"id":"productiviy-system-a90","title":"Add secrets to Supabase","description":"Set TELEGRAM_BOT_TOKEN, LINEAR_API_KEY, DEEPGRAM_API_KEY, ANTHROPIC_API_KEY via supabase secrets set","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T11:00:38.637818-05:00","created_by":"benigeri","updated_at":"2026-01-05T13:49:39.989514-05:00","closed_at":"2026-01-05T13:49:39.989514-05:00","close_reason":"Closed"}
{"id":"productiviy-system-agg","title":"Create weekly-cadence skill directory structure","description":"Set up the skill directory at `~/.claude/skills/weekly-cadence/`","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T08:41:46.567399-05:00","updated_at":"2026-01-06T18:40:32.861807-05:00","closed_at":"2026-01-06T18:40:32.861807-05:00","close_reason":"Env vars in .zshrc, directory at ~/.claude/skills/weekly-cadence/","dependencies":[{"issue_id":"productiviy-system-agg","depends_on_id":"productiviy-system-5r9","type":"parent-child","created_at":"2026-01-06T08:42:02.676218-05:00","created_by":"benigeri"}]}
{"id":"productiviy-system-alf","title":"nylas-webhook: handler + tests","description":"TDD: Create webhook handler in index.ts:\n- Challenge verification (GET with challenge param)\n- Signature verification (x-nylas-signature header)\n- Route message.updated and message.created events\n- Async processing: return 200 immediately, process in background\n- Idempotent: clearOtherWorkflowLabels(messageId, keepLabel)\n- Triggers: label added, reply sent, message archived (INBOX removed)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T11:27:58.740978-05:00","created_by":"benigeri","updated_at":"2026-01-07T14:02:17.455356-05:00","dependencies":[{"issue_id":"productiviy-system-alf","depends_on_id":"productiviy-system-7d5","type":"blocks","created_at":"2026-01-07T11:28:27.484295-05:00","created_by":"benigeri"},{"issue_id":"productiviy-system-alf","depends_on_id":"productiviy-system-l9c","type":"blocks","created_at":"2026-01-07T11:28:27.584799-05:00","created_by":"benigeri"}]}
{"id":"productiviy-system-bdp","title":"Write tests for telegram.ts, then implement","description":"TDD: Write tests for parseWebhookUpdate, getFileUrl, validateWebhookSignature functions, then implement","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T11:00:29.174902-05:00","created_by":"benigeri","updated_at":"2026-01-05T13:21:24.382309-05:00","closed_at":"2026-01-05T13:21:24.382309-05:00","close_reason":"All tests pass for telegram.ts"}
{"id":"productiviy-system-c1t","title":"Write tests for deepgram.ts, then implement","description":"TDD: Write tests for transcribeAudio function including error handling, then implement","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T11:00:29.362493-05:00","created_by":"benigeri","updated_at":"2026-01-05T13:22:45.330651-05:00","closed_at":"2026-01-05T13:22:45.330651-05:00","close_reason":"All tests pass for deepgram.ts"}
{"id":"productiviy-system-ct2","title":"Get API keys: Deepgram + Anthropic","description":"Setup task: Obtain API keys for Deepgram (voice transcription) and Anthropic (Claude for title/desc cleanup)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T11:00:21.441481-05:00","created_by":"benigeri","updated_at":"2026-01-05T12:52:17.416729-05:00","closed_at":"2026-01-05T12:52:17.416729-05:00","close_reason":"Keys stored in .env and verified working"}
{"id":"productiviy-system-fpx","title":"Create Telegram bot via @BotFather, get token","description":"Setup task: Create a new Telegram bot using BotFather and save the bot token","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T11:00:17.455514-05:00","created_by":"benigeri","updated_at":"2026-01-05T12:34:36.212592-05:00","closed_at":"2026-01-05T12:34:36.212592-05:00","close_reason":"Token stored in .env"}
{"id":"productiviy-system-hft","title":"Set up Nylas environment variables","description":"Configure shell profile with required Nylas credentials.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T08:41:46.566675-05:00","updated_at":"2026-01-06T18:40:32.858545-05:00","closed_at":"2026-01-06T18:40:32.858545-05:00","close_reason":"Env vars in .zshrc, directory at ~/.claude/skills/weekly-cadence/","dependencies":[{"issue_id":"productiviy-system-hft","depends_on_id":"productiviy-system-5r9","type":"parent-child","created_at":"2026-01-06T08:41:57.286255-05:00","created_by":"benigeri"}]}
{"id":"productiviy-system-hl2","title":"Add reply confirmation or bot like for message acknowledgment","description":"When a message is processed successfully, the bot should either reply with a confirmation message containing the Linear issue link, or react/like the original message to acknowledge receipt. This provides user feedback that their message was captured.","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-05T13:54:21.558806-05:00","created_by":"benigeri","updated_at":"2026-01-05T14:06:31.47049-05:00","closed_at":"2026-01-05T14:06:31.47049-05:00","close_reason":"Closed"}
{"id":"productiviy-system-knx","title":"Deploy function + set Telegram webhook","description":"Deploy edge function to Supabase and configure Telegram webhook URL","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T11:00:38.470082-05:00","created_by":"benigeri","updated_at":"2026-01-05T13:49:55.262641-05:00","closed_at":"2026-01-05T13:49:55.262641-05:00","close_reason":"Closed"}
{"id":"productiviy-system-l9c","title":"nylas-webhook: workflow label logic + tests","description":"TDD: Create workflow label logic in lib/workflow-labels.ts:\n- isWorkflowLabel(folder): check if folder is a workflow label\n- getWorkflowLabels(folders): extract workflow labels from folder list\n- removeWorkflowLabels(folders, keepLabel?): filter out workflow labels\n- getHighestPriorityLabel(labels): return highest priority workflow label\n- All operations must be idempotent","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T11:27:57.162742-05:00","created_by":"benigeri","updated_at":"2026-01-07T14:37:16.768643-05:00","closed_at":"2026-01-07T14:37:16.768643-05:00","close_reason":"Closed","dependencies":[{"issue_id":"productiviy-system-l9c","depends_on_id":"productiviy-system-peq","type":"blocks","created_at":"2026-01-07T11:28:25.468086-05:00","created_by":"benigeri"}]}
{"id":"productiviy-system-m5w","title":"Test end-to-end: reply → comment on issue","description":"Milestone 2: E2E test - reply to Telegram message creates comment on corresponding Linear issue","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-05T11:00:52.419636-05:00","created_by":"benigeri","updated_at":"2026-01-05T11:00:52.419636-05:00"}
{"id":"productiviy-system-p9v","title":"Refactor telegram-webhook to use captureToLinear()","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T08:21:16.6356-05:00","created_by":"benigeri","updated_at":"2026-01-06T09:18:38.501183-05:00","closed_at":"2026-01-06T09:18:38.501183-05:00","close_reason":"Closed","dependencies":[{"issue_id":"productiviy-system-p9v","depends_on_id":"productiviy-system-0sq","type":"blocks","created_at":"2026-01-06T08:21:26.669001-05:00","created_by":"benigeri"}]}
{"id":"productiviy-system-pb3","title":"Write integration tests for index.ts, then implement","description":"TDD: Write integration tests for main handler - text and voice message flows, error handling","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T11:00:38.259414-05:00","created_by":"benigeri","updated_at":"2026-01-05T13:26:19.371928-05:00","closed_at":"2026-01-05T13:26:19.371928-05:00","close_reason":"All 38 tests pass"}
{"id":"productiviy-system-peq","title":"nylas-webhook: shared types (nylas-types.ts)","description":"Create shared Nylas types in _shared/lib/nylas-types.ts:\n- NylasMessage, NylasThread, NylasWebhookPayload interfaces\n- WORKFLOW_LABELS constant: to-respond-paul, to-read-paul, drafted\n- Label priority order: to-respond \u003e to-read \u003e drafted\n- Helper type: WorkflowLabel","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T11:27:54.466039-05:00","created_by":"benigeri","updated_at":"2026-01-07T14:27:19.980447-05:00","closed_at":"2026-01-07T14:27:19.980447-05:00","close_reason":"Closed"}
{"id":"productiviy-system-sy7","title":"Text to add to todo list","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T21:36:26.758638-05:00","created_by":"benigeri","updated_at":"2026-01-05T11:01:15.2126-05:00","closed_at":"2026-01-05T11:01:15.2126-05:00","close_reason":"Replaced with Telegram pipeline beads"}
{"id":"productiviy-system-uvi","title":"Create iOS Shortcut to open bot chat","description":"Create iOS Shortcut using tg://resolve?domain=BOT_USERNAME URL for one-tap access","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-05T11:00:39.073625-05:00","created_by":"benigeri","updated_at":"2026-01-05T14:23:45.549174-05:00","closed_at":"2026-01-05T14:23:45.549174-05:00","close_reason":"User set up shortcut manually"}
{"id":"productiviy-system-v31","title":"Write SKILL.md with workflow instructions","description":"Create main skill file with Claude instructions for the calendar management workflow.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T08:41:46.567796-05:00","updated_at":"2026-01-06T18:43:04.935892-05:00","closed_at":"2026-01-06T18:43:04.935892-05:00","close_reason":"Created SKILL.md with trigger, workflow, defaults, and example interaction","dependencies":[{"issue_id":"productiviy-system-v31","depends_on_id":"productiviy-system-5r9","type":"parent-child","created_at":"2026-01-06T08:42:02.810896-05:00","created_by":"benigeri"},{"issue_id":"productiviy-system-v31","depends_on_id":"productiviy-system-agg","type":"blocks","created_at":"2026-01-06T08:42:08.435391-05:00","created_by":"benigeri"}]}
{"id":"productiviy-system-vbf","title":"Test end-to-end: text + voice → Linear triage","description":"End-to-end testing: send text and voice messages via Telegram, verify Linear triage items are created","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T11:00:38.857909-05:00","created_by":"benigeri","updated_at":"2026-01-05T13:55:11.254951-05:00","closed_at":"2026-01-05T13:55:11.254951-05:00","close_reason":"Closed"}
{"id":"productiviy-system-vui","title":"Create nylas-api-reference.md","description":"Document Nylas API endpoints for reference.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T08:41:46.568036-05:00","updated_at":"2026-01-06T18:42:31.913105-05:00","closed_at":"2026-01-06T18:42:31.913105-05:00","close_reason":"Created nylas-api-reference.md with endpoints, examples, and time format docs","dependencies":[{"issue_id":"productiviy-system-vui","depends_on_id":"productiviy-system-5r9","type":"parent-child","created_at":"2026-01-06T08:42:02.889597-05:00","created_by":"benigeri"}]}
{"id":"productiviy-system-vy9","title":"Create new Supabase project","description":"Setup task: Create a Supabase project for hosting the edge function","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T11:00:21.186406-05:00","created_by":"benigeri","updated_at":"2026-01-05T12:42:17.197821-05:00","closed_at":"2026-01-05T12:42:17.197821-05:00","close_reason":"Project created, credentials stored in .env"}
{"id":"productiviy-system-wx8","title":"Nylas email workflow automation","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T11:27:38.049163-05:00","created_by":"benigeri","updated_at":"2026-01-07T11:27:38.049163-05:00"}
{"id":"productiviy-system-zgh","title":"Test Nylas API connectivity","description":"Verify API credentials work and can fetch calendar events.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T08:41:46.568267-05:00","updated_at":"2026-01-06T18:41:07.504146-05:00","closed_at":"2026-01-06T18:41:07.504146-05:00","close_reason":"API connectivity verified - calendar paul@archive.com accessible","dependencies":[{"issue_id":"productiviy-system-zgh","depends_on_id":"productiviy-system-5r9","type":"parent-child","created_at":"2026-01-06T08:42:02.980017-05:00","created_by":"benigeri"},{"issue_id":"productiviy-system-zgh","depends_on_id":"productiviy-system-hft","type":"blocks","created_at":"2026-01-06T08:42:08.385454-05:00","created_by":"benigeri"}]}
